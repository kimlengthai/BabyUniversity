{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nimport findNodeHandle from \"react-native-web/dist/exports/findNodeHandle\";\nimport PointerEventManager from './PointerEventManager';\nimport TouchEventManager from './TouchEventManager';\nimport { State } from '../../State';\nimport { isPointerInBounds as _isPointerInBounds } from '../utils';\nimport { MouseButton } from '../../handlers/gestureHandlerCommon';\nexport var GestureHandlerWebDelegate = function () {\n  function GestureHandlerWebDelegate() {\n    _classCallCheck(this, GestureHandlerWebDelegate);\n    _defineProperty(this, \"view\", void 0);\n    _defineProperty(this, \"gestureHandler\", void 0);\n    _defineProperty(this, \"eventManagers\", []);\n  }\n  _createClass(GestureHandlerWebDelegate, [{\n    key: \"getView\",\n    value: function getView() {\n      return this.view;\n    }\n  }, {\n    key: \"init\",\n    value: function init(viewRef, handler) {\n      var _this = this;\n      var _config$touchAction;\n      if (!viewRef) {\n        throw new Error(`Cannot find HTML Element for handler ${handler.getTag()}`);\n      }\n      this.gestureHandler = handler;\n      this.view = findNodeHandle(viewRef);\n      var config = handler.getConfig();\n      this.addContextMenuListeners(config);\n      if (!config.userSelect) {\n        this.view.style['webkitUserSelect'] = 'none';\n        this.view.style['userSelect'] = 'none';\n      } else {\n        this.view.style['webkitUserSelect'] = config.userSelect;\n        this.view.style['userSelect'] = config.userSelect;\n      }\n      this.view.style['touchAction'] = (_config$touchAction = config.touchAction) !== null && _config$touchAction !== void 0 ? _config$touchAction : 'none';\n      this.view.style['WebkitTouchCallout'] = 'none';\n      this.eventManagers.push(new PointerEventManager(this.view));\n      this.eventManagers.push(new TouchEventManager(this.view));\n      this.eventManagers.forEach(function (manager) {\n        return _this.gestureHandler.attachEventManager(manager);\n      });\n    }\n  }, {\n    key: \"isPointerInBounds\",\n    value: function isPointerInBounds(_ref) {\n      var x = _ref.x,\n        y = _ref.y;\n      return _isPointerInBounds(this.view, {\n        x: x,\n        y: y\n      });\n    }\n  }, {\n    key: \"measureView\",\n    value: function measureView() {\n      var rect = this.view.getBoundingClientRect();\n      return {\n        pageX: rect.left,\n        pageY: rect.top,\n        width: rect.width,\n        height: rect.height\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.eventManagers.forEach(function (manager) {\n        return manager.resetManager();\n      });\n    }\n  }, {\n    key: \"tryResetCursor\",\n    value: function tryResetCursor() {\n      var config = this.gestureHandler.getConfig();\n      if (config.activeCursor && config.activeCursor !== 'auto' && this.gestureHandler.getState() === State.ACTIVE) {\n        this.view.style.cursor = 'auto';\n      }\n    }\n  }, {\n    key: \"shouldDisableContextMenu\",\n    value: function shouldDisableContextMenu(config) {\n      return config.enableContextMenu === undefined && this.gestureHandler.isButtonInConfig(MouseButton.RIGHT) || config.enableContextMenu === false;\n    }\n  }, {\n    key: \"addContextMenuListeners\",\n    value: function addContextMenuListeners(config) {\n      if (this.shouldDisableContextMenu(config)) {\n        this.view.addEventListener('contextmenu', this.disableContextMenu);\n      } else if (config.enableContextMenu) {\n        this.view.addEventListener('contextmenu', this.enableContextMenu);\n      }\n    }\n  }, {\n    key: \"removeContextMenuListeners\",\n    value: function removeContextMenuListeners(config) {\n      if (this.shouldDisableContextMenu(config)) {\n        this.view.removeEventListener('contextmenu', this.disableContextMenu);\n      } else if (config.enableContextMenu) {\n        this.view.removeEventListener('contextmenu', this.enableContextMenu);\n      }\n    }\n  }, {\n    key: \"disableContextMenu\",\n    value: function disableContextMenu(e) {\n      e.preventDefault();\n    }\n  }, {\n    key: \"enableContextMenu\",\n    value: function enableContextMenu(e) {\n      e.stopPropagation();\n    }\n  }, {\n    key: \"onBegin\",\n    value: function onBegin() {}\n  }, {\n    key: \"onActivate\",\n    value: function onActivate() {\n      var config = this.gestureHandler.getConfig();\n      if ((!this.view.style.cursor || this.view.style.cursor === 'auto') && config.activeCursor) {\n        this.view.style.cursor = config.activeCursor;\n      }\n    }\n  }, {\n    key: \"onEnd\",\n    value: function onEnd() {\n      this.tryResetCursor();\n    }\n  }, {\n    key: \"onCancel\",\n    value: function onCancel() {\n      this.tryResetCursor();\n    }\n  }, {\n    key: \"onFail\",\n    value: function onFail() {\n      this.tryResetCursor();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy(config) {\n      this.removeContextMenuListeners(config);\n      this.eventManagers.forEach(function (manager) {\n        manager.unregisterListeners();\n      });\n    }\n  }]);\n  return GestureHandlerWebDelegate;\n}();","map":{"version":3,"names":["PointerEventManager","TouchEventManager","State","isPointerInBounds","MouseButton","GestureHandlerWebDelegate","_classCallCheck","_defineProperty","_createClass","key","value","getView","view","init","viewRef","handler","_this","_config$touchAction","Error","getTag","gestureHandler","findNodeHandle","config","getConfig","addContextMenuListeners","userSelect","style","touchAction","eventManagers","push","forEach","manager","attachEventManager","_ref","x","y","measureView","rect","getBoundingClientRect","pageX","left","pageY","top","width","height","reset","resetManager","tryResetCursor","activeCursor","getState","ACTIVE","cursor","shouldDisableContextMenu","enableContextMenu","undefined","isButtonInConfig","RIGHT","addEventListener","disableContextMenu","removeContextMenuListeners","removeEventListener","e","preventDefault","stopPropagation","onBegin","onActivate","onEnd","onCancel","onFail","destroy","unregisterListeners"],"sources":["C:\\Users\\tcdin\\Desktop\\BabyUniversity\\front-end\\node_modules\\react-native-gesture-handler\\lib\\module\\web\\tools\\GestureHandlerWebDelegate.ts"],"sourcesContent":["import { findNodeHandle } from 'react-native';\nimport type IGestureHandler from '../handlers/IGestureHandler';\nimport {\n  GestureHandlerDelegate,\n  MeasureResult,\n} from './GestureHandlerDelegate';\nimport PointerEventManager from './PointerEventManager';\nimport TouchEventManager from './TouchEventManager';\nimport { State } from '../../State';\nimport { isPointerInBounds } from '../utils';\nimport EventManager from './EventManager';\nimport { Config } from '../interfaces';\nimport { MouseButton } from '../../handlers/gestureHandlerCommon';\n\nexport class GestureHandlerWebDelegate\n  implements GestureHandlerDelegate<HTMLElement, IGestureHandler>\n{\n  private view!: HTMLElement;\n  private gestureHandler!: IGestureHandler;\n  private eventManagers: EventManager<unknown>[] = [];\n\n  getView(): HTMLElement {\n    return this.view;\n  }\n\n  init(viewRef: number, handler: IGestureHandler): void {\n    if (!viewRef) {\n      throw new Error(\n        `Cannot find HTML Element for handler ${handler.getTag()}`\n      );\n    }\n\n    this.gestureHandler = handler;\n    this.view = findNodeHandle(viewRef) as unknown as HTMLElement;\n\n    const config = handler.getConfig();\n\n    this.addContextMenuListeners(config);\n\n    if (!config.userSelect) {\n      this.view.style['webkitUserSelect'] = 'none';\n      this.view.style['userSelect'] = 'none';\n    } else {\n      this.view.style['webkitUserSelect'] = config.userSelect;\n      this.view.style['userSelect'] = config.userSelect;\n    }\n\n    this.view.style['touchAction'] = config.touchAction ?? 'none';\n    //@ts-ignore This one disables default events on Safari\n    this.view.style['WebkitTouchCallout'] = 'none';\n\n    this.eventManagers.push(new PointerEventManager(this.view));\n    this.eventManagers.push(new TouchEventManager(this.view));\n\n    this.eventManagers.forEach((manager) =>\n      this.gestureHandler.attachEventManager(manager)\n    );\n  }\n\n  isPointerInBounds({ x, y }: { x: number; y: number }): boolean {\n    return isPointerInBounds(this.view, { x, y });\n  }\n\n  measureView(): MeasureResult {\n    const rect = this.view.getBoundingClientRect();\n\n    return {\n      pageX: rect.left,\n      pageY: rect.top,\n      width: rect.width,\n      height: rect.height,\n    };\n  }\n\n  reset(): void {\n    this.eventManagers.forEach((manager: EventManager<unknown>) =>\n      manager.resetManager()\n    );\n  }\n\n  tryResetCursor() {\n    const config = this.gestureHandler.getConfig();\n\n    if (\n      config.activeCursor &&\n      config.activeCursor !== 'auto' &&\n      this.gestureHandler.getState() === State.ACTIVE\n    ) {\n      this.view.style.cursor = 'auto';\n    }\n  }\n\n  private shouldDisableContextMenu(config: Config) {\n    return (\n      (config.enableContextMenu === undefined &&\n        this.gestureHandler.isButtonInConfig(MouseButton.RIGHT)) ||\n      config.enableContextMenu === false\n    );\n  }\n\n  private addContextMenuListeners(config: Config): void {\n    if (this.shouldDisableContextMenu(config)) {\n      this.view.addEventListener('contextmenu', this.disableContextMenu);\n    } else if (config.enableContextMenu) {\n      this.view.addEventListener('contextmenu', this.enableContextMenu);\n    }\n  }\n\n  private removeContextMenuListeners(config: Config): void {\n    if (this.shouldDisableContextMenu(config)) {\n      this.view.removeEventListener('contextmenu', this.disableContextMenu);\n    } else if (config.enableContextMenu) {\n      this.view.removeEventListener('contextmenu', this.enableContextMenu);\n    }\n  }\n\n  private disableContextMenu(this: void, e: MouseEvent): void {\n    e.preventDefault();\n  }\n\n  private enableContextMenu(this: void, e: MouseEvent): void {\n    e.stopPropagation();\n  }\n\n  onBegin(): void {\n    // no-op for now\n  }\n\n  onActivate(): void {\n    const config = this.gestureHandler.getConfig();\n\n    if (\n      (!this.view.style.cursor || this.view.style.cursor === 'auto') &&\n      config.activeCursor\n    ) {\n      this.view.style.cursor = config.activeCursor;\n    }\n  }\n\n  onEnd(): void {\n    this.tryResetCursor();\n  }\n\n  onCancel(): void {\n    this.tryResetCursor();\n  }\n\n  onFail(): void {\n    this.tryResetCursor();\n  }\n\n  public destroy(config: Config): void {\n    this.removeContextMenuListeners(config);\n\n    this.eventManagers.forEach((manager) => {\n      manager.unregisterListeners();\n    });\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}