{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\tcdin\\\\Desktop\\\\BabyUniversity\\\\front-end\\\\PinPage.js\",\n  _this = this;\nimport React, { useState, axios } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { auth, db } from './firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar PinEntryScreen = function PinEntryScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    pin = _useState2[0],\n    setPin = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var handlePinChange = function handlePinChange(enteredPin) {\n    setPin(enteredPin);\n  };\n  var handlePinSubmit = function handlePinSubmit() {\n    var userEmail = auth.currentUser.email;\n    axios.post('http://localhost:3000/checkpin', {\n      email: userEmail,\n      pin: pin\n    }).then(function (response) {\n      if (response.status === 200) {\n        console.log(response.data.message);\n        navigation.navigate('PaymentPage');\n      }\n    }).catch(function (error) {\n      console.error('Error:', error.response.data.message);\n      setError('Incorrect PIN. Please try again.');\n    });\n    return _jsxDEV(View, {\n      style: styles.container,\n      children: [_jsxDEV(Text, {\n        style: styles.errorText,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }, _this), _jsxDEV(Text, {\n        style: styles.prompt,\n        children: \"Enter 4-Digit PIN:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }, _this), _jsxDEV(TextInput, {\n        style: styles.input,\n        value: pin,\n        onChangeText: handlePinChange,\n        keyboardType: \"numeric\",\n        maxLength: 4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }, _this), _jsxDEV(Button, {\n        title: \"Submit\",\n        onPress: handlePinSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }, _this);\n  };\n  var styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#fff'\n    },\n    errorText: {\n      color: 'red',\n      marginBottom: 10\n    },\n    prompt: {\n      fontSize: 18,\n      marginBottom: 20\n    },\n    input: {\n      width: '80%',\n      padding: 10,\n      borderColor: 'gray',\n      borderWidth: 1,\n      marginBottom: 20,\n      textAlign: 'center',\n      fontSize: 24\n    }\n  });\n};\nexport default PinEntryScreen;","map":{"version":3,"names":["React","useState","axios","View","Text","TextInput","Button","StyleSheet","auth","db","jsxDEV","_jsxDEV","PinEntryScreen","_ref","navigation","_useState","_useState2","_slicedToArray","pin","setPin","_useState3","_useState4","error","setError","handlePinChange","enteredPin","handlePinSubmit","userEmail","currentUser","email","post","then","response","status","console","log","data","message","navigate","catch","style","styles","container","children","errorText","fileName","_jsxFileName","lineNumber","columnNumber","_this","prompt","input","value","onChangeText","keyboardType","maxLength","title","onPress","create","flex","justifyContent","alignItems","backgroundColor","color","marginBottom","fontSize","width","padding","borderColor","borderWidth","textAlign"],"sources":["C:/Users/tcdin/Desktop/BabyUniversity/front-end/PinPage.js"],"sourcesContent":["import React, { useState, axios } from 'react';\r\nimport { View, Text, TextInput, Button, StyleSheet } from 'react-native';\r\nimport {auth,db} from './firebase'; // Adjust the path based on your firebase setup\r\n\r\nconst PinEntryScreen = ({ navigation }) => {\r\n  const [pin, setPin] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const handlePinChange = (enteredPin) => {\r\n    setPin(enteredPin);\r\n  };\r\n\r\n  const handlePinSubmit = () => {\r\n    const userEmail = auth.currentUser.email;\r\n  \r\n  \r\n    axios.post('http://localhost:3000/checkpin', { email: userEmail, pin: pin })\r\n  .then((response) => {\r\n    // Handle success response\r\n    if (response.status === 200) {\r\n      console.log(response.data.message);\r\n      navigation.navigate('PaymentPage');\r\n    }\r\n  })\r\n  .catch((error) => {\r\n    // Handle error\r\n    console.error('Error:', error.response.data.message);\r\n    setError('Incorrect PIN. Please try again.');\r\n  });\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.errorText}>{error}</Text>\r\n      <Text style={styles.prompt}>Enter 4-Digit PIN:</Text>\r\n      <TextInput\r\n        style={styles.input}\r\n        value={pin}\r\n        onChangeText={handlePinChange}\r\n        keyboardType=\"numeric\"\r\n        maxLength={4}\r\n      />\r\n      <Button title=\"Submit\" onPress={handlePinSubmit} />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#fff',\r\n  },\r\n  errorText: {\r\n    color: 'red',\r\n    marginBottom: 10,\r\n  },\r\n  prompt: {\r\n    fontSize: 18,\r\n    marginBottom: 20,\r\n  },\r\n  input: {\r\n    width: '80%',\r\n    padding: 10,\r\n    borderColor: 'gray',\r\n    borderWidth: 1,\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n    fontSize: 24,\r\n  },\r\n})};\r\n\r\nexport default PinEntryScreen;\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,KAAK,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,UAAA;AAE/C,SAAQC,IAAI,EAACC,EAAE,QAAO,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAAC,IAAA,EAAuB;EAAA,IAAjBC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EAClC,IAAAC,SAAA,GAAsBd,QAAQ,CAAC,EAAE,CAAC;IAAAe,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA3BG,GAAG,GAAAF,UAAA;IAAEG,MAAM,GAAAH,UAAA;EAClB,IAAAI,UAAA,GAA0BnB,QAAQ,CAAC,EAAE,CAAC;IAAAoB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA/BE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EAEtB,IAAMG,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,UAAU,EAAK;IACtCN,MAAM,CAACM,UAAU,CAAC;EACpB,CAAC;EAED,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;IAC5B,IAAMC,SAAS,GAAGnB,IAAI,CAACoB,WAAW,CAACC,KAAK;IAGxC3B,KAAK,CAAC4B,IAAI,CAAC,gCAAgC,EAAE;MAAED,KAAK,EAAEF,SAAS;MAAET,GAAG,EAAEA;IAAI,CAAC,CAAC,CAC7Ea,IAAI,CAAC,UAACC,QAAQ,EAAK;MAElB,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;QAC3BC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC;QAClCvB,UAAU,CAACwB,QAAQ,CAAC,aAAa,CAAC;MACpC;IACF,CAAC,CAAC,CACDC,KAAK,CAAC,UAACjB,KAAK,EAAK;MAEhBY,OAAO,CAACZ,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAACU,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC;MACpDd,QAAQ,CAAC,kCAAkC,CAAC;IAC9C,CAAC,CAAC;IAEF,OACEZ,OAAA,CAACR,IAAI;MAACqC,KAAK,EAAEC,MAAM,CAACC,SAAU;MAAAC,QAAA,GAC5BhC,OAAA,CAACP,IAAI;QAACoC,KAAK,EAAEC,MAAM,CAACG,SAAU;QAAAD,QAAA,EAAErB;MAAK;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,GAAAC,KAAO,CAAC,EAC7CtC,OAAA,CAACP,IAAI;QAACoC,KAAK,EAAEC,MAAM,CAACS,MAAO;QAAAP,QAAA,EAAC;MAAkB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,GAAAC,KAAM,CAAC,EACrDtC,OAAA,CAACN,SAAS;QACRmC,KAAK,EAAEC,MAAM,CAACU,KAAM;QACpBC,KAAK,EAAElC,GAAI;QACXmC,YAAY,EAAE7B,eAAgB;QAC9B8B,YAAY,EAAC,SAAS;QACtBC,SAAS,EAAE;MAAE;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,GAAAC,KACd,CAAC,EACFtC,OAAA,CAACL,MAAM;QAACkD,KAAK,EAAC,QAAQ;QAACC,OAAO,EAAE/B;MAAgB;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,GAAAC,KAAE,CAAC;IAAA;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,GAAAC,KAC/C,CAAC;EAEX,CAAC;EAED,IAAMR,MAAM,GAAGlC,UAAU,CAACmD,MAAM,CAAC;IAC/BhB,SAAS,EAAE;MACTiB,IAAI,EAAE,CAAC;MACPC,cAAc,EAAE,QAAQ;MACxBC,UAAU,EAAE,QAAQ;MACpBC,eAAe,EAAE;IACnB,CAAC;IACDlB,SAAS,EAAE;MACTmB,KAAK,EAAE,KAAK;MACZC,YAAY,EAAE;IAChB,CAAC;IACDd,MAAM,EAAE;MACNe,QAAQ,EAAE,EAAE;MACZD,YAAY,EAAE;IAChB,CAAC;IACDb,KAAK,EAAE;MACLe,KAAK,EAAE,KAAK;MACZC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,MAAM;MACnBC,WAAW,EAAE,CAAC;MACdL,YAAY,EAAE,EAAE;MAChBM,SAAS,EAAE,QAAQ;MACnBL,QAAQ,EAAE;IACZ;EACF,CAAC,CAAC;AAAA,CAAC;AAEH,eAAerD,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}